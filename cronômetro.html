<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>MeuSite - Frases e Cronômetro</title>
<style>
  /* Reset */
  * {
    box-sizing: border-box;
  }
  body {
    margin: 0; padding: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f0f4ff;
    color: #222;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }
  header {
    background: #3b5bdb;
    padding: 16px 24px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    box-shadow: 0 3px 10px rgba(59,91,219,0.3);
    user-select: none;
  }
  .logo {
    font-weight: 900;
    font-size: 1.8rem;
    color: #e0e7ff;
    letter-spacing: 2px;
  }
  nav a {
    color: #dbe4ff;
    text-decoration: none;
    font-weight: 600;
    margin-left: 24px;
    transition: color 0.3s ease;
  }
  nav a:hover,
  nav a:focus-visible {
    color: #fff;
    outline: none;
  }
  main {
    max-width: 1080px;
    margin: 40px auto 60px;
    padding: 0 20px;
    flex-grow: 1;
  }
  h1 {
    color: #3b5bdb;
    text-align: center;
    margin-bottom: 20px;
    user-select: none;
  }

  /* Cronômetro */
  #cronometro-container {
    background: #dbe4ff;
    border-radius: 14px;
    box-shadow: 0 6px 14px rgba(59, 91, 219, 0.15);
    padding: 24px 32px;
    max-width: 360px;
    margin: 0 auto 60px auto; /* aumentado espaçamento para o mural */
    display: flex;
    flex-direction: column;
    align-items: center;
    user-select: none;
  }
  #display-tempo {
    font-size: 3rem;
    font-weight: 900;
    color: #2245a8;
    margin-bottom: 16px;
    letter-spacing: 6px;
    font-family: 'Courier New', Courier, monospace;
  }
  #ajuste-tempo {
    margin-bottom: 20px;
    display: flex;
    gap: 10px;
    align-items: center;
    color: #2245a8;
    font-weight: 600;
  }
  #ajuste-tempo label {
    user-select: none;
  }
  #minutos-input {
    width: 70px;
    padding: 6px 10px;
    border-radius: 8px;
    border: 1px solid #2245a8;
    font-weight: 700;
    font-size: 1.1rem;
    text-align: center;
    color: #2245a8;
  }

  /* Botões cronômetro */
  #botoes-cronometro {
    display: flex;
    gap: 16px;
  }
  button.crono-btn {
    background: #3b5bdb;
    color: #e0e7ff;
    border: none;
    padding: 10px 22px;
    font-weight: 700;
    border-radius: 14px;
    cursor: pointer;
    user-select: none;
    transition: background-color 0.3s ease;
    font-size: 1rem;
  }
  button.crono-btn:hover,
  button.crono-btn:focus-visible {
    background: #2f4dc7;
    outline: none;
  }

  /* Container frases tipo post-it */
  #frases-container {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: center;
    max-height: 70vh;
    overflow-y: auto;
    padding: 10px 5px;
  }

  /* Post-it card */
  .post-it {
    background: #dbe4ff;
    border-radius: 14px;
    box-shadow: 0 6px 14px rgba(59, 91, 219, 0.15);
    padding: 20px 24px;
    width: 220px;
    min-height: 100px;
    font-style: italic;
    font-weight: 600;
    color: #2245a8;
    cursor: pointer;
    user-select: none;
    position: relative;
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
  }
  .post-it:hover,
  .post-it:focus-within {
    background: #c3d0ff;
    box-shadow: 0 12px 28px rgba(59, 91, 219, 0.3);
    outline: none;
  }

  /* Botão excluir, só aparece no hover */
  .btn-excluir {
    position: absolute;
    top: 6px;
    right: 8px;
    background: #ff6b6b;
    border: none;
    color: white;
    font-weight: 900;
    font-size: 1.1rem;
    line-height: 1;
    width: 26px;
    height: 26px;
    border-radius: 50%;
    cursor: pointer;
    opacity: 0;
    transition: opacity 0.3s ease;
    user-select: none;
  }
  .post-it:hover .btn-excluir,
  .post-it:focus-within .btn-excluir {
    opacity: 1;
  }
  .btn-excluir:hover,
  .btn-excluir:focus-visible {
    background: #e55353;
    outline: none;
  }

  /* Cores variadas post-its da paleta do site */
  .cor1 { background: #dbe4ff; color: #2245a8; }
  .cor2 { background: #e5f0ff; color: #1b3a8a; }
  .cor3 { background: #f0f5ff; color: #3355aa; }
  .cor4 { background: #d4dbff; color: #2a3d8f; }

  /* Input para edição */
  .edit-input {
    width: 100%;
    font-size: 1rem;
    padding: 6px 10px;
    border-radius: 8px;
    border: 1px solid #2245a8;
    font-style: italic;
    font-weight: 600;
    color: #2245a8;
  }

  /* Botão adicionar frase */
  #add-phrase-btn {
    margin: 24px auto 0 auto;
    display: block;
    background: #3b5bdb;
    border: none;
    color: #e0e7ff;
    padding: 12px 28px;
    border-radius: 14px;
    font-weight: 700;
    cursor: pointer;
    transition: background-color 0.3s ease;
    user-select: none;
  }
  #add-phrase-btn:hover,
  #add-phrase-btn:focus-visible {
    background: #2f4dc7;
    outline: none;
  }

  /* Responsivo mobile */
  @media (max-width: 500px) {
    #cronometro-container {
      max-width: 90vw;
      padding: 20px;
    }
    .post-it {
      width: 90vw;
      min-height: 120px;
    }
    #frases-container {
      max-height: 60vh;
    }
  }
</style>
</head>
<body>

<header>
  <div class="logo">EstudArt</div>
  <nav>
    <a href="index.html">Início</a>
    <a href="perfil.html">Perfil</a>
  </nav>
</header>

<main>
  <h1>Cronômetro</h1>

  <!-- Cronômetro -->
  <section id="cronometro-container" aria-label="Cronômetro de estudo">
    <div id="display-tempo" aria-live="polite" aria-atomic="true">00:00:00</div>
    <div id="ajuste-tempo">
      <label for="minutos-input">Minutos:</label>
      <input type="number" id="minutos-input" min="1" max="180" value="25" aria-label="Definir minutos para o cronômetro" />
    </div>
    <div id="botoes-cronometro">
      <button class="crono-btn" id="start-btn">Start</button>
      <button class="crono-btn" id="pause-btn" disabled>Pause</button>
      <button class="crono-btn" id="reset-btn">Reset</button>
    </div>
  </section>
  <br>
<h1>Frases motivacionais</h1>
  <!-- Mural frases -->
  <section id="frases-container" aria-label="Mural de frases motivacionais">
    <!-- post-its criados via JS -->
  </section>

  <button id="add-phrase-btn" aria-label="Adicionar nova frase">Adicionar frase</button>
</main>

<script>
  // --- Frases Motivacionais ---
  const frasesPadrao = [
    "Você é capaz de coisas incríveis!",
    "Pequenos passos levam a grandes conquistas.",
    "Cada dia é uma nova chance para aprender.",
    "Não desista, o esforço vale a pena!",
    "Seu potencial é maior do que imagina."
  ];

  const container = document.getElementById('frases-container');
  const addBtn = document.getElementById('add-phrase-btn');
  const cores = ['cor1', 'cor2', 'cor3', 'cor4'];

  function salvarFrases(frases){ localStorage.setItem('frasesMotivacionais', JSON.stringify(frases)); }
  function carregarFrases(){
    const data = localStorage.getItem('frasesMotivacionais');
    if(data){
      try { return JSON.parse(data); } catch { return [...frasesPadrao]; }
    }
    return [...frasesPadrao];
  }

  function renderizarFrases(){
    container.innerHTML = '';
    frases.forEach((frase, idx) => {
      const div = document.createElement('div');
      div.className = 'post-it ' + cores[idx % cores.length];
      div.tabIndex = 0;
      div.textContent = frase;

      const btnExcluir = document.createElement('button');
      btnExcluir.className = 'btn-excluir';
      btnExcluir.textContent = '×';
      btnExcluir.addEventListener('click', e => { e.stopPropagation(); excluirFrase(idx); });
      div.appendChild(btnExcluir);

      div.addEventListener('click', () => editarFrase(idx));
      div.addEventListener('keydown', e => { if(e.key==="Enter") editarFrase(idx); });

      container.appendChild(div);
    });
  }

  function editarFrase(idx){
    const postIt = container.children[idx];
    const input = document.createElement('input');
    input.type = 'text';
    input.className = 'edit-input';
    input.value = frases[idx];
    postIt.textContent = '';
    postIt.appendChild(input);
    input.focus();

    input.addEventListener('blur', () => {
      const novoTexto = input.value.trim();
      if(novoTexto.length > 0){ frases[idx] = novoTexto; salvarFrases(frases); }
      renderizarFrases();
    });
    input.addEventListener('keydown', e => {
      if(e.key === 'Enter'){ input.blur(); }
      else if(e.key === 'Escape'){ renderizarFrases(); }
    });
  }

  function excluirFrase(idx){
    frases.splice(idx, 1);
    salvarFrases(frases);
    renderizarFrases();
  }
  function adicionarFrase(){
    frases.push("Nova frase motivacional...");
    salvarFrases(frases);
    renderizarFrases();
  }

  let frases = carregarFrases();
  renderizarFrases();
  addBtn.addEventListener('click', adicionarFrase);

  // --- Cronômetro ---
  const display = document.getElementById('display-tempo');
  const minutosInput = document.getElementById('minutos-input');
  const startBtn = document.getElementById('start-btn');
  const pauseBtn = document.getElementById('pause-btn');
  const resetBtn = document.getElementById('reset-btn');

  let intervaloId = null;
  let rodando = false;
  let fimDoCronometro = null;

  function formatarTempo(segundos){
    const h = Math.floor(segundos / 3600);
    const m = Math.floor((segundos % 3600) / 60);
    const s = segundos % 60;
    return [h,m,s].map(v => v.toString().padStart(2,'0')).join(':');
  }

  function atualizarDisplay(){
    if(!fimDoCronometro) { display.textContent = "00:00:00"; return; }
    const agora = Date.now();
    const diff = Math.max(0, Math.floor((fimDoCronometro - agora)/1000));
    display.textContent = formatarTempo(diff);
    if(diff <= 0){
      pararCronometro();
      avisarFim();
    }
  }

  function iniciarCronometro(){
    if(rodando) return;
    let min = parseInt(minutosInput.value);
    if(isNaN(min) || min<1) min = 25;

    const pausado = localStorage.getItem("cronometroPausado");
    if(pausado){
      fimDoCronometro = Date.now() + parseInt(pausado)*1000;
      localStorage.removeItem("cronometroPausado");
    } else {
      fimDoCronometro = Date.now() + min*60*1000;
    }

    localStorage.setItem("cronometroFim", fimDoCronometro);
    rodando = true;
    startBtn.disabled = true;
    pauseBtn.disabled = false;
    minutosInput.disabled = true;

    intervaloId = setInterval(atualizarDisplay, 1000);
    atualizarDisplay();
  }

  function pararCronometro(){
    clearInterval(intervaloId);
    rodando = false;
    startBtn.disabled = false;
    pauseBtn.disabled = true;
    minutosInput.disabled = false;
    localStorage.removeItem("cronometroFim");
  }

  function pausarCronometro(){
    if(!rodando) return;
    clearInterval(intervaloId);
    rodando = false;

    const agora = Date.now();
    const diff = Math.max(0, Math.floor((fimDoCronometro - agora)/1000));
    fimDoCronometro = null;
    localStorage.setItem("cronometroPausado", diff);

    startBtn.disabled = false;
    pauseBtn.disabled = true;
    minutosInput.disabled = false;
  }

  function resetarCronometro(){
    clearInterval(intervaloId);
    rodando = false;
    fimDoCronometro = null;
    display.textContent = "00:00:00";
    startBtn.disabled = false;
    pauseBtn.disabled = true;
    minutosInput.disabled = false;
    localStorage.removeItem("cronometroFim");
    localStorage.removeItem("cronometroPausado");
  }

  function avisarFim(){
    if(Notification.permission === "granted"){
      new Notification("⏰ Tempo encerrado!", { body: "Seu cronômetro acabou!" });
    } else {
      alert("⏰ Tempo encerrado!");
    }
    resetarCronometro();
  }

  if(Notification && Notification.permission !== "granted"){ Notification.requestPermission(); }

  // --- Inicialização ao carregar a página ---
  window.addEventListener("load", ()=>{
    const fimSalvo = localStorage.getItem("cronometroFim");
    const pausado = localStorage.getItem("cronometroPausado");

    if(fimSalvo){
      const fim = parseInt(fimSalvo);
      if(fim > Date.now()){
        fimDoCronometro = fim;
        rodando = true;
        intervaloId = setInterval(atualizarDisplay, 1000);
        atualizarDisplay();
        startBtn.disabled = true;
        pauseBtn.disabled = false;
        minutosInput.disabled = true;
      } else {
        avisarFim();
      }
    } else if(pausado){
      display.textContent = formatarTempo(parseInt(pausado));
    } else {
      display.textContent = formatarTempo(parseInt(minutosInput.value)*60);
    }
  });

  startBtn.addEventListener('click', iniciarCronometro);
  pauseBtn.addEventListener('click', pausarCronometro);
  resetBtn.addEventListener('click', resetarCronometro);
</script>

<script>
document.addEventListener('contextmenu', function(e) {
  e.preventDefault();
  alert("⚠️ Clique direito desabilitado neste site!");
});
</script>

<script>
document.addEventListener('keydown', function(e) {
  if (e.ctrlKey && (e.key === 'c' || e.key === 's' || e.key === 'u')) {
    e.preventDefault();
    alert("⚠️ Esta ação não é permitida no site!");
  }
});
</script>


</body>
</html>